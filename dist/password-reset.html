<!doctype html>
<!--[if lt IE 7]>		<html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>			<html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>			<html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->	<html class="no-js"> <!--<![endif]-->
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Tring Tring wachtwoord wijzigen</title>
	
	<meta name="twitter:card" content="summary">
	<meta name="twitter:site" content="@TringTring">
	<meta property="og:url" content="http://www.tringtring.nl/">
	<meta property="og:title" content="Het nieuwe bakfiets bezorgnetwerk met liefde voor horeca in Amsterdam en Utrecht">
	<meta property="og:description" content="Wij bevoorraden dagelijks meer dan 350 restaurants en hotels in Amsterdam en Utrecht. 
	Alleen op de de bakfiets. On-demand. 100% groen. 7 dagen per week.">

	
	<meta name="description" content="TringTring is hÃ©t antwoord op de autovrije binnenstad. Dat doen we op de fiets: zo maken we de stad een beetje mooier.">
	<meta name="viewport" content="width=device-width,initial-scale=1">

		<!-- Facebook Conversion Code for Websiteconversies --> 
	
	<link rel="stylesheet" href="styles/c8198aa3.main.css">
	<!-- <link rel="stylesheet" href="styles/logos.css"> -->
	<!-- <link rel="stylesheet" href="styles/logistic.css"> -->
	<script src="scripts/vendor/d37cb924.modernizr.js"></script>
</head>
<body>

	


	<!-- Main menu start -->
	<nav id="main-menu" class="navbar bbb">
		<div class="container small">
			
			<div class="hidden-xs">
				<ul class="desktop-nav">
					<li><a href="index.html" class="no-link"><img src="./images/icons/TringTring_logo_white.svg" alt="Tring Tring" width="50" height="43"></a></li>
				</ul>
			</div>
			
			<div class="visible-xs">
				<ul class="desktop-nav">
					<li><a href="index.html" class="no-link mobile-menu-logo"><img src="./images/icons/TringTring_logo_white.svg" alt="Tring Tring" width="44" height="38"></a></li>
				</ul>
			</div>
			
		</div>
	</nav>
	<div id="navbar-fix"></div>
	<!-- Main menu end -->
	
	<main class="target menuclosed">

		<div id="stretch-bg" class="bg-ligthgray">
			<div class="container reset-form-wrapper">								

				<h1 class="form-title">Wachtwoord wijzigen</h1>
				
				<p class="post-error" style="display: none">Er is iets fout gegaan, probeer het nog eens.</p>
				<p class="post-busy" style="display: none">Je wachtwoord wordt verstuurd...</p>
				<p class="post-success" style="display: none">Je wachtwoord is gewijzigd. Je kunt inloggen in de app met je nieuwe wachtwoord.</p>

				<form class="register-form" id="reset-form">
					<input class="form-control form-group input-lg" name="password" id="password" type="password" placeholder="Nieuw wachtwoord" data-rule-required="true" data-rule-minlength="5">
					<input class="form-control form-group input-lg" name="password-again" id="password-again" type="password" placeholder="Herhaal" data-rule-required="true" data-rule-equalto="#password">

					<button type="submit" class="btn btn-block btn-primary">Wijzig ></button>
				</form>

			</div>
		</div>

	</main>

	<script src="scripts/4d820efc.main.js"></script>

	
	<script>

		// ### Password reset form ### //

		function getParameterByName(name) {
			name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
			var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
			results = regex.exec(location.search);
			return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
		}

		function getToken() {
			if ( location.search.substr(1, 5) !== 'token') {
				return location.search.substr(1);
			} else {
				return getParameterByName('token');
			}
		}

		// Initialize validation
		var validator = $('#reset-form').validate({
			submitHandler: function(form) {
				$('.reset-form-wrapper .post-busy').show();
				$('#reset-form').hide();

				var data = JSON.stringify({
					password: $('#password').val(),
					token: getToken()
				});

				// Results
				$.ajax({
					type: "POST",
					url: "/api/password-reset",
					headers: { 
						"ClientType" : "TRINGTRING_SITE"
					},
					data: data
				})
				.success(function (result) {
					console.log("Success: " + JSON.stringify(result));
					$('.reset-form-wrapper .post-busy').hide();
					$('.reset-form-wrapper .post-success').show();
				})
				.fail(function (error) {
					console.log("Error: " + JSON.stringify(error));
					$('.reset-form-wrapper .post-busy').hide();
					if (error.responseText.length > 0) {
						$('.reset-form-wrapper .post-error').text(JSON.parse(error.responseText).error);
					} else {
						$('.reset-form-wrapper .post-error').text('Er is iets fout gegaan, probeer het nog eens.');
					}
					$('.reset-form-wrapper .post-error').show();
					$('#reset-form').show();
				});
			}
		});

	</script>

	<!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
<script>
	(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
	function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
	e=o.createElement(i);r=o.getElementsByTagName(i)[0];
	e.src='//www.google-analytics.com/analytics.js';
	r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
	ga('create','UA-62524803-1');ga('send','pageview');
</script>


</body>
</html>